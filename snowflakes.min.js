!function(e){for(var t="",n=document.getElementsByTagName("script"),a=0,o=n.length;o>a;a++)if(n.item(a).src.match(/snowflakes.js/)){t=n.item(a).src.split("snowflakes.js")[0];break}var i,r,h=t+"/img/",m={amount:250,nuclearMode:!1},l={};Date.now||(Date.now=function(){return(new Date).getTime()}),function(){for(var t=["webkit","moz"],n=0;n<t.length&&!e.requestAnimationFrame;++n){var a=t[n];e.requestAnimationFrame=e[a+"RequestAnimationFrame"],e.cancelAnimationFrame=e[a+"CancelAnimationFrame"]||e[a+"CancelRequestAnimationFrame"]}if(/iP(ad|hone|od).*OS 6/.test(e.navigator.userAgent)||!e.requestAnimationFrame||!e.cancelAnimationFrame){var o=0;e.requestAnimationFrame=function(e){var t=Date.now(),n=Math.max(o+16,t);return setTimeout(function(){e(o=n)},n-t)},e.cancelAnimationFrame=clearTimeout}}();var s=function(){i=document.createElement("canvas"),i.getContext&&i.getContext("2d")&&(r=i.getContext("2d"),i.style.position="fixed",i.style.width="100%",i.style.height="100vh",i.style.top="0px",i.style.left="0px",i.width=e.innerWidth,i.height=e.innerHeight,i.style.pointerEvents="none",i.style.zIndex="100000",document.body.appendChild(i),u(function(){p(),e.requestAnimationFrame(x)}))};e.onresize=function(){i.width=e.innerWidth,i.height=e.innerHeight};var c=[],d=0,u=function(e){d=200;for(var t=1;d+1>t;t++)!function(t){var n=new Image;n.onload=function(){d--;var t=document.createElement("canvas");t.width=50,t.height=50,con=t.getContext("2d"),con.drawImage(n,0,0,50,50),c.push(t),0===d&&e()},n.src=h+"sniegparsla ("+t+").svg"}(t)},f=[],g=function(){return"rgb("+Math.floor(256*Math.random())+","+Math.floor(256*Math.random())+","+Math.floor(256*Math.random())+")"},M=function(e){e=e||!1;var t={x:Math.floor(Math.random()*i.width),y:e?Math.floor(Math.random()*i.height):0,o:0,flake:c[Math.floor(Math.random()*c.length)],sign:Math.random()>.5?1:-1,speed:.5+Math.random(),amplitude:10+4*Math.random(),size:10+Math.floor(16*Math.random()),width:0,blink_variance:10*Math.random(),angle:Math.random()*Math.PI,spin:(Math.random()>.5?-1:1)*Math.random()*.05};if(l.nuclearMode){var n=document.createElement("canvas");n.width=50,n.height=50,con=n.getContext("2d"),con.drawImage(t.flake,0,0,50,50),con.fillStyle=g(),con.globalCompositeOperation="source-in",con.fillRect(0,0,50,50),t.flake=n}return t.o=t.x,t.width=t.size*Math.random(),t},v=1,p=function(){for(var e=0;e<l.amount;e++)f.push(M(!0))},w=function(){Math.random()>.99&&(v=v?0:Math.random()>.5?-1:1);for(var e=0,t=f.length;t>e;e++)f[e].size>20&&(f[e].o+=.5*v),f[e].y+=f[e].speed*f[e].size/18*f[e].size/18,f[e].x=f[e].o+f[e].sign*Math.sin(f[e].y/20)*f[e].amplitude,f[e].angle+=f[e].spin,f[e].width=Math.abs(Math.sin(f[e].y/20)*f[e].size),f[e].y>i.height&&(f[e]=null,f[e]=M())},y=function(){r.clearRect(0,0,i.width,i.height);for(var e=0,t=f.length;t>e;e++)r.save(),r.globalAlpha=(1-f[e].y/i.height)*(.4+.6*Math.abs(Math.sin(f[e].y/(20+f[e].blink_variance)))),r.translate(f[e].x,f[e].y),r.rotate(f[e].angle),r.drawImage(f[e].flake,-f[e].size/2,-f[e].width/2,f[e].size,f[e].width),r.restore()},x=function(){w(),y(),e.requestAnimationFrame(x)},A=function(e){l.amount=e&&e.amount&&typeof e.amount==typeof m.amount?e.amount:m.amount,l.nuclearMode=e&&e.nuclearMode&&typeof e.nuclearMode==typeof m.nuclearMode?e.nuclearMode:m.nuclearMode,s()};e.snowflakes=A}(this);